# Hello

A very simple app to demonstrate app building. Only two source files are needed and these are what would be generated by running

```bash
$ just init . hello
```

## hello.js

this is our little demo app. it just dumps the just object out on the console, prints out memory usage and starts a repl using the builtin repl module.

```javascript
const AD = '\u001b[0m' // ANSI Default
const AG = '\u001b[32m' // ANSI Green
function dump (o, name) {
  const fields = Object.getOwnPropertyNames(o).sort()
  just.print(`${AG}${name}${AD}\n${JSON.stringify(fields, null, '  ')}`)
  for (const field of fields) {
    if ((typeof o[field]) === 'object') {
      if (field !== 'requireCache') {
        dump(o[field], `${name}.${field}`)
      }
    }
  }
}
dump(just, 'just')
just.print(`rss: ${just.memoryUsage().rss}`)
require('repl').repl()
```

## config.js

The config can be a json file or a javascript file which exports the configuration.

```javascript
const libs = [
  'lib/fs.js',
  'lib/loop.js',
  'lib/path.js',
  'lib/repl.js'
]

const version = just.version.just
const v8flags = ''

const debug = false
const capabilities = [] // list of allowed internal modules, api calls etc. TBD

const modules = [{
  name: 'sys',
  obj: [
    'modules/sys/sys.o'
  ],
  lib: ['dl']
}, {
  name: 'fs',
  obj: [
    'modules/fs/fs.o'
  ]
}, {
  name: 'net',
  obj: [
    'modules/net/net.o'
  ]
}, {
  name: 'vm',
  obj: [
    'modules/vm/vm.o'
  ]
}, {
  name: 'epoll',
  obj: [
    'modules/epoll/epoll.o'
  ]
}]

const embeds = [
  'hello.js',
  'just.js'
]

const target = 'hello'
const main = 'just.js'
const index = 'hello.js'

module.exports = { version, libs, modules, capabilities, target, main, v8flags, embeds, index, debug, static: true }
```

## running

```bash
$ just hello.js
```

## building

```bash
$ just build
$ ./hello
```

